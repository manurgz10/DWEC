<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animal Form</title>
</head>
<body>
    
    <label for="">Nombre</label>
    <input type="text" name="nombre"/>

    <label for="">Sexo</label>
    <input type="radio" name="sexo" value="M"/>M
    <input type="radio" name="sexo" value="F"/>F

    <label for="">Numero Registro</label>
    <input type="text" name="numreg"/>

    <script type="module">
        import { getAnimal } from "../service/AnimalService.js";

        function init(){
            const url = new URLSearchParams(window.location.search);
            let idAnimal = url.get("identificador")

            console.log(idAnimal)
            idAnimal = parseInt(idAnimal, 10);
            let animal = getAnimal(idAnimal);
            console.log(animal);
            
            document.querySelector('input[name="nombre"]').value = animal.name;
            document.querySelector('input[name="sexo"][value="' + animal.sex + '"]').checked = true;
            document.querySelector('input[name="numreg"]').value = animal.registrynumber; 
        }


        

        window.addEventListener("load", init);



    </script>

</body>
</html>